{"version":3,"file":"js/576.57429f44.js","mappings":"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","sources":["webpack://ecommercev2/./src/apis/components/accountAPI.js","webpack://ecommercev2/./src/views/signup/CompleteProfile.vue","webpack://ecommercev2/./src/views/signup/CompleteProfile.vue?ea7f"],"sourcesContent":["import BaseAPI from '@/apis/base/baseapi.js'\r\nimport BaseAPIConfig from '@/apis/base/baseapiconfig.js'\r\nclass AccountAPI extends BaseAPI {\r\n    constructor(){\r\n        super();\r\n        this.BaseAPIConfig = BaseAPIConfig;\r\n        this.controller = 'Account';\r\n    }\r\n\r\n    signup(payload){\r\n        return this.BaseAPIConfig.post(`${this.controller}/signUp`,payload);\r\n    }\r\n\r\n    completeProfile(payload){\r\n        return this.BaseAPIConfig.post(`${this.controller}/completeProfile`,payload);\r\n    }\r\n\r\n    signIn(payload){\r\n        return this.BaseAPIConfig.post(`${this.controller}/signIn`,payload);\r\n    }\r\n}\r\n\r\nexport default new AccountAPI();","<template>\r\n    <div class=\"complete-profile-page\">\r\n        <div class=\"signup-container flex flex-row\">\r\n            <div class=\"signup-content-left  w-50\">\r\n                <div class=\"signup-content-left-title\">\r\n                    Hoàn thành hồ sơ\r\n                </div>\r\n                <div class=\"signup-field-container flex flex-column\">\r\n                    <div class=\"signup-field-label\">\r\n                        Email\r\n                    </div>\r\n                    <div class=\"signup-field-input\">\r\n                        <base-input placeholder=\"Nhập email\" :modelValue=\"model.email\" @update:modelValue=\"updateValue\"\r\n                            field=\"email\"></base-input>\r\n                    </div>\r\n                </div>\r\n                <div class=\"signup-field-container flex flex-column\">\r\n                    <div class=\"signup-field-label\">\r\n                        Số điện thoại\r\n                    </div>\r\n                    <div class=\"signup-field-input\">\r\n                        <base-input placeholder=\"Số điện thoại\" :modelValue=\"model.phoneNumber\"\r\n                            @update:modelValue=\"updateValue\" field=\"phoneNumber\"></base-input>\r\n                    </div>\r\n                </div>\r\n                <div class=\"signup-field-container flex flex-column\">\r\n                    <div class=\"signup-field-label\">\r\n                        Địa chỉ\r\n                    </div>\r\n                    <div class=\"signup-field-input\">\r\n                        <base-input placeholder=\"Địa chỉ\" :modelValue=\"model.address\" @update:modelValue=\"updateValue\"\r\n                            field=\"address\"></base-input>\r\n                    </div>\r\n                </div>\r\n                <div class=\"signup-field-container flex flex-column\">\r\n                    <div class=\"signup-field-label\">\r\n                        Ảnh đại diện\r\n                    </div>\r\n                    <div class=\"signup-field-input\">\r\n                        <div className=\"complete-profile__upload-photo\">\r\n                            <img :src=\"model.avatar\" alt=\"\" v-show=\"model.avatar\"/>\r\n                            <label htmlFor=\"upload-photo\">\r\n                                <Icon icon=\"carbon:cloud-upload\" color=\"#373737\" />\r\n                                <span>Upload photo</span>\r\n                            </label>\r\n                            <input type=\"file\" name=\"\" id=\"upload-photo\" @change=uploadPhotoHandler accept=\"image/gif, image/jpeg\"/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"signup-button\">\r\n                    <base-button text=\"HOÀN THÀNH\" customClass=\"btn-white btn-padding w-100\" @click=\"completeProfile\">\r\n                    </base-button>\r\n                </div>\r\n            </div>\r\n            <div class=\"signup-content-right  w-50 flex flex-center flex-column\">\r\n                <div class=\"logo-container flex-column flex-center\">\r\n\r\n                    <a href=\"/\">\r\n                        <div class=\"logo\">\r\n\r\n                        </div>\r\n                    </a>\r\n                    <div class=\"welcome-text\">\r\n                        Chào mừng bạn đến mới Tân Thời Shop\r\n                    </div>\r\n                </div>\r\n                <div class=\"ask\">\r\n                    Bạn đã có tài khoản?\r\n                </div>\r\n                <div class=\"signup-button\">\r\n                    <base-button text=\"ĐĂNG NHẬP\" customClass=\"btn-red btn-padding\" @click=\"goToLogin\">\r\n                    </base-button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport BaseButton from '@/components/button/BaseButton.vue';\r\nimport BaseInput from '@/components/input/BaseInput.vue';\r\nimport AccountAPI from '@/apis/components/accountAPI';\r\nimport { ref, getCurrentInstance } from 'vue';\r\nimport { useToast } from \"primevue/usetoast\";\r\nexport default {\r\n    name: 'CompleteProfile',\r\n    components: {\r\n        BaseButton,\r\n        BaseInput,\r\n    },\r\n    setup(props, { emit }) {\r\n        const { proxy } = getCurrentInstance();\r\n        const model = ref({});\r\n        const publicID = ref();\r\n        const signature = ref();\r\n        const apiKey = ref('539832413128967:CQeiFqkvX96PoGvFRliRruc43-o');\r\n        const timestamp = ref();\r\n        const toast = useToast();\r\n        const updateValue = (value, field) => {\r\n            model.value[field] = value;\r\n        }\r\n        const goToLogin = () => {\r\n            proxy.$router.push(\"/login\");\r\n        }\r\n\r\n        const uploadPhotoHandler = async (e) => {\r\n            const file = e.target.files[0];\r\n            try {\r\n                model.value.avatar =  \"./assets/giphy.gif\";\r\n                var formdata = new FormData();\r\n                formdata.append(\"file\", file);\r\n                formdata.append(\"upload_preset\", \"zykutcrp\");\r\n\r\n                var requestOptions = {\r\n                    method: \"POST\",\r\n                    body: formdata,\r\n                    // redirect: \"follow\",\r\n                };\r\n\r\n                // if(publicID.value){\r\n                //     var requestDeleteOptions = {\r\n                //         method : \"POST\",\r\n                //         body: JSON.stringify({\r\n                //             public_id: publicID.value,\r\n                //             signature : signature.value,\r\n                //             api_key : apiKey.value,\r\n                //             timestamp : timestamp.value\r\n                //         })\r\n                //     }\r\n                //     fetch(\"https://api.cloudinary.com/v1_1/mp32022/image/destroy\", requestDeleteOptions)\r\n                //     .then((response) => response.json())\r\n                //     .then((result) => {\r\n                        \r\n                //     })\r\n                //     .catch((error) => console.log(\"error\", error));\r\n                // }\r\n\r\n                fetch(\"https://api.cloudinary.com/v1_1/mp32022/upload/\", requestOptions)\r\n                    .then((response) => response.json())\r\n                    .then((result) => {\r\n                        model.value.avatar = result.url;\r\n                        publicID.value = result.public_id;\r\n                        signature.value = result.signature;\r\n                        timestamp.value = result.version;\r\n                    })\r\n                    .catch((error) => console.log(\"error\", error));\r\n            } catch (error) {\r\n\r\n                console.log(error);\r\n             }\r\n        };\r\n\r\n        const completeProfile = async () =>{\r\n            if(model.value){\r\n                let account = proxy.$store.state.account;\r\n                model.value.userId = account.userId;\r\n                let res = await AccountAPI.completeProfile(proxy.model);\r\n                if(res && res.data && res.data.data && res.data.data.code == 200){\r\n                    toast.add({severity:'info', summary:'Thông báo', detail:'Hoàn thành cập nhật tài khoản', life: 2500})\r\n                    proxy.$router.push(\"/login\");\r\n                }\r\n            }\r\n        }\r\n\r\n        return {\r\n            model,\r\n            updateValue,\r\n            goToLogin,\r\n            uploadPhotoHandler,\r\n            completeProfile\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import './CompleteProfile.scss';\r\n</style>","import { render } from \"./CompleteProfile.vue?vue&type=template&id=6610abdc\"\nimport script from \"./CompleteProfile.vue?vue&type=script&lang=js\"\nexport * from \"./CompleteProfile.vue?vue&type=script&lang=js\"\n\nimport \"./CompleteProfile.vue?vue&type=style&index=0&id=6610abdc&lang=scss\"\n\nimport exportComponent from \"E:\\\\ProjectGR\\\\FrontEnd\\\\ecommercev2\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["AccountAPI","BaseAPI","constructor","super","this","BaseAPIConfig","controller","signup","payload","post","completeProfile","signIn","class","_createElementVNode","className","htmlFor","_createElementBlock","_hoisted_4","_hoisted_6","_createVNode","_component_base_input","placeholder","modelValue","$setup","email","field","_hoisted_9","phoneNumber","_hoisted_12","address","_hoisted_15","src","avatar","alt","_component_Icon","icon","color","_hoisted_20","type","name","id","onChange","accept","_component_base_button","text","customClass","onClick","_hoisted_23","components","BaseButton","BaseInput","setup","props","emit","proxy","getCurrentInstance","model","ref","publicID","signature","timestamp","toast","useToast","updateValue","value","goToLogin","$router","push","uploadPhotoHandler","async","file","e","target","files","formdata","FormData","append","requestOptions","method","body","fetch","then","response","json","result","url","public_id","version","catch","error","console","log","account","$store","state","userId","res","data","code","add","severity","summary","detail","life","__exports__","render"],"sourceRoot":""}