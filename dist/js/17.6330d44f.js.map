{"version":3,"file":"js/17.6330d44f.js","mappings":"0IAEA,MAAMA,UAAmBC,EAAAA,EACrBC,cACIC,QACAC,KAAKC,cAAgBA,EAAAA,EACrBD,KAAKE,WAAa,SACrB,CAEDC,OAAOC,GACH,OAAOJ,KAAKC,cAAcI,KAAM,GAAEL,KAAKE,oBAAoBE,EAC9D,CAEDE,gBAAgBF,GACZ,OAAOJ,KAAKC,cAAcI,KAAM,GAAEL,KAAKE,6BAA6BE,EACvE,CAEDG,OAAOH,GACH,OAAOJ,KAAKC,cAAcI,KAAM,GAAEL,KAAKE,oBAAoBE,EAC9D,EAGL,WAAmBR,C,0FCrBZY,MAAM,c,GACJA,MAAM,iC,GACJA,MAAM,2B,GACTC,EAAAA,EAAAA,GAEM,OAFDD,MAAM,4BAA2B,eAEtC,G,GACKA,MAAM,0C,GACTC,EAAAA,EAAAA,GAEM,OAFDD,MAAM,qBAAoB,eAE/B,G,GACKA,MAAM,qB,GAKRA,MAAM,0C,GACTC,EAAAA,EAAAA,GAEM,OAFDD,MAAM,qBAAoB,cAE/B,G,GACKA,MAAM,qB,GAKRA,MAAM,gB,GAIXC,EAAAA,EAAAA,GAEM,OAFDD,MAAM,2CAA0C,oBAErD,G,GAEGA,MAAM,yD,2OAeJA,MAAM,iB,2HA/CjBE,EAAAA,EAAAA,IAsDM,MAtDN,EAsDM,EArDJD,EAAAA,EAAAA,GAmDM,MAnDN,EAmDM,EAlDJA,EAAAA,EAAAA,GA6BM,MA7BN,EA6BM,CA5BJE,GAGAF,EAAAA,EAAAA,GAQM,MARN,EAQM,CAPJG,GAGAH,EAAAA,EAAAA,GAGM,MAHN,EAGM,EAFJI,EAAAA,EAAAA,IACoFC,EAAA,CADxEC,YAAY,gCAAiCC,WAAYC,EAAAA,MAAMC,QACxE,sBAAmBD,EAAAA,YAAaE,MAAM,UAAWC,aAAYH,EAAAA,OADhE,iEAIJR,EAAAA,EAAAA,GAQM,MARN,EAQM,CAPJY,GAGAZ,EAAAA,EAAAA,GAGM,MAHN,EAGM,EAFJI,EAAAA,EAAAA,IACqFC,EAAA,CADzEC,YAAY,WAAWO,KAAK,WAAYN,WAAYC,EAAAA,MAAMM,SACnE,sBAAmBN,EAAAA,YAAaE,MAAM,WAAYC,aAAYH,EAAAA,OADjE,iEAIJR,EAAAA,EAAAA,GAGM,MAHN,EAGM,EAFJI,EAAAA,EAAAA,IACcW,EAAA,CADDC,KAAK,YAAYC,YAAY,8BAA+BC,QAAOV,EAAAA,OAAhF,sBAGFW,KAIFnB,EAAAA,EAAAA,GAmBM,MAnBN,EAmBM,CAlBJoB,GAcApB,EAAAA,EAAAA,GAGM,MAHN,EAGM,EAFJI,EAAAA,EAAAA,IACcW,EAAA,CADDC,KAAK,UAAUC,YAAY,sBAAuBC,QAAOV,EAAAA,YAAtE,2BAKNJ,EAAAA,EAAAA,IAAuBiB,I,4DC/C3B,SAASC,EAAsBC,GAC3BhC,KAAKgC,QAAUA,CAGnBD,CAAAA,EAAsBE,UAAY,IAAIC,MACtCH,EAAsBE,UAAUE,KAAO,wBA6BvC,MAAkC,oBAAXC,QACnBA,OAAOC,MACPD,OAAOC,KAAKC,KAAKF,SA7BrB,SAAkBG,GACd,IAAIC,EAAMC,OAAOF,GAAOG,QAAQ,MAAO,IACvC,GAAIF,EAAIG,OAAS,GAAK,EAClB,MAAM,IAAIZ,EACN,qEAGR,IAEI,IAAYa,EAAIC,EAAZC,EAAK,EAAeC,EAAM,EAAGC,EAAS,GAEzCH,EAASL,EAAIS,OAAOF,MAEpBF,IACCD,EAAKE,EAAK,EAAS,GAALF,EAAUC,EAASA,EAG/BC,IAAO,GACVE,GAAUP,OAAOS,aAAa,IAAON,KAAS,EAAIE,EAAM,IACzD,EAGAD,EA/BI,oEA+BWM,QAAQN,GAE3B,OAAOG,CAAAA,ECxBI,WAASR,GACpB,IAAIQ,EAASR,EAAIE,QAAQ,KAAM,KAAKA,QAAQ,KAAM,KAClD,OAAQM,EAAOL,OAAS,GACpB,KAAK,EACD,MACJ,KAAK,EACDK,GAAU,KACV,MACJ,KAAK,EACDA,GAAU,IACV,MACJ,QACI,KAAM,4BAGd,IACI,OA5BR,SAA0BR,GACtB,OAAOY,mBACHf,EAAKG,GAAKE,QAAQ,QAAQ,SAASW,EAAGC,GAClC,IAAIC,EAAOD,EAAEE,WAAW,GAAGC,SAAS,IAAIC,cAIxC,OAHIH,EAAKZ,OAAS,IACdY,EAAO,IAAMA,GAEV,IAAMA,CAAAA,IAqBVI,CA5Bf,CA4BgCX,EAEZA,CADd,MAAOY,GACL,OAAOvB,EAAKW,EAAAA,CC5Bb,UAASa,EAAkB7B,GAC9BhC,KAAKgC,QAAUA,CAMJ,YAAS8B,EAAOC,GAC3B,GAAqB,iBAAVD,EACP,MAAM,IAAID,EAAkB,2BAIhC,IAAIG,GAAAA,KADJD,EAAUA,GAAW,CAAC,GACJE,OAAkB,EAAI,EACxC,IACI,OAAOC,KAAKC,MAAMC,EAAkBN,EAAMO,MAAM,KAAKL,IAEOhC,CAD9D,MAAOsC,GACL,MAAM,IAAIT,EAAkB,4BAA8BS,EAAEtC,QAAAA,CAbpE6B,CAAAA,EAAkB5B,UAAY,IAAIC,MAClC2B,EAAkB5B,UAAUE,KAAO,4B,uGCRjCoC,EAAAA,EAAAA,IAgBeC,EAAA,C,WAfFvD,EAAAA,SAASwD,U,qCAATxD,EAAAA,SAASwD,UAASC,GAC1BC,QAAS1D,EAAAA,SAAS2D,SAFvB,CAMqBC,SAAO,SACtB,IAMQ,EANRhE,EAAAA,EAAAA,IAMQiE,EAAA,CALNC,MAAM,OACNC,QAAQ,OACPrD,QAAOV,EAAAA,eAHV,C,kBAIC,IAED,UAFC,c,KAJD,kB,kBAHF,IAA4C,mBAAzCA,EAAAA,SAASe,SAAO,oBAAyB,IAE5C,M,KANJ,2B,CAqBF,OACIiD,MAAMC,GAAM,KAACC,IACT,MAAM,MAACC,IAASC,EAAAA,EAAAA,MAEVC,GAAWC,EAAAA,EAAAA,KAAS,IACfH,EAAMI,OAAOC,MAAMC,WAGxBC,EAAgB,KAClB,IAAIC,EAAkBR,EAAMI,OAAOC,MAAMC,SACzCE,EAAgBnB,WAAY,EAC5BW,EAAMI,OAAOK,SAAS,iBAAiBD,EAAvC,EAGJ,MAAM,CACFN,WACAK,gBAER,G,QCnCJ,MAAMG,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,KAEpE,QL2DA,GACE3D,KAAM,YACN4D,WAAY,CACVC,WADU,IAEVC,UAFU,IAGVC,SAAQA,GAEVjB,MAAMC,GAAO,KAAEC,IACb,MAAM,MAAEC,IAAUC,EAAAA,EAAAA,MACZc,GAAQC,EAAAA,EAAAA,IAAI,CAAC,GACbC,EAAc,CAACC,EAAOnF,KAC1BgF,EAAMG,MAAMnF,GAASmF,CAArB,GAEFC,EAAAA,EAAAA,KAAU,KACJnB,EAAMI,OAAOC,MAAM3B,OACrBsB,EAAMoB,QAAQC,KAAK,IACrB,IAGF,MAAMC,EAAa,KACjBtB,EAAMoB,QAAQC,KAAK,UAAnB,EAEIE,EAAQC,UACZ,GAAIxB,EAAMe,MACR,IACE,IAAIU,QAAYjH,EAAAA,EAAAA,OAAkBwF,EAAMe,OACxC,GAAIU,GAAOA,EAAIC,MAAQD,EAAIC,KAAKA,KAAM,CACpC,MAAMC,EAAWC,EAAWH,EAAIC,KAAKA,KAAKhD,OAC1C,GAAIiD,GAAgC,kBAAbA,EAAuB,CAC5C,IAAI3G,EAAU,CACZ6G,OAAQF,EAASE,OACjBC,OAAQH,EAASG,OACjBC,SAAUJ,EAASI,SACnBC,MAAOL,EAASK,OAElBhC,EAAMI,OAAOK,SAAS,gBAAiBzF,GACvCgF,EAAMI,OAAOK,SAAS,gBAAiBzF,GACvCgF,EAAMI,OAAOK,SAAS,cAAe,CACnC/B,MAAO+C,EAAIC,KAAKA,MAAMhD,MACtBuD,aAAcR,EAAIC,KAAKA,MAAMO,eAE/BjC,EAAMoB,QAAQC,KAAK,WACrB,CACF,CAaF,CAZE,MAAOnC,GACP,GAAGA,GAAKA,EAAEgD,SAASC,OACjB,OAAOjD,EAAEgD,SAASC,QAChB,KAAK,IACHnC,EAAMI,OAAOK,SAAS,iBAAiB,CACrCpB,WAAW,EACXzC,QAAS,2BACT4C,QAAS,MAEX,MAGR,CAEF,EAEF,MAAO,CACLuB,QACAE,cACAK,aACAC,QAEJ,GM7HF,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASa,KAEpE,O","sources":["webpack://ecommercev2/./src/apis/components/accountAPI.js","webpack://ecommercev2/./src/views/login/LoginPage.vue","webpack://ecommercev2/../lib/atob.js","webpack://ecommercev2/../lib/base64_url_decode.js","webpack://ecommercev2/../lib/index.js","webpack://ecommercev2/./src/components/snackbar/SnackBar.vue","webpack://ecommercev2/./src/components/snackbar/SnackBar.vue?1b8b","webpack://ecommercev2/./src/views/login/LoginPage.vue?6aa2"],"sourcesContent":["import BaseAPI from '@/apis/base/baseapi.js'\r\nimport BaseAPIConfig from '@/apis/base/baseapiconfig.js'\r\nclass AccountAPI extends BaseAPI {\r\n    constructor(){\r\n        super();\r\n        this.BaseAPIConfig = BaseAPIConfig;\r\n        this.controller = 'Account';\r\n    }\r\n\r\n    signup(payload){\r\n        return this.BaseAPIConfig.post(`${this.controller}/signUp`,payload);\r\n    }\r\n\r\n    completeProfile(payload){\r\n        return this.BaseAPIConfig.post(`${this.controller}/completeProfile`,payload);\r\n    }\r\n\r\n    signIn(payload){\r\n        return this.BaseAPIConfig.post(`${this.controller}/signIn`,payload);\r\n    }\r\n}\r\n\r\nexport default new AccountAPI();","<template>\r\n  <div class=\"login-page\">\r\n    <div class=\"login-container flex flex-row\">\r\n      <div class=\"login-content-left  w-50\">\r\n        <div class=\"login-content-left-title\">\r\n          Đăng nhập\r\n        </div>\r\n        <div class=\"login-field-container flex flex-column\">\r\n          <div class=\"login-field-label\">\r\n            Tài khoản\r\n          </div>\r\n          <div class=\"login-field-input\">\r\n            <base-input placeholder=\"Nhập email hoặc số điện thoại\" :modelValue=\"model.account\"\r\n              @update:modelValue=\"updateValue\" field=\"account\" @enterPress=\"login\"></base-input>\r\n          </div>\r\n        </div>\r\n        <div class=\"login-field-container flex flex-column\">\r\n          <div class=\"login-field-label\">\r\n            Mật khẩu\r\n          </div>\r\n          <div class=\"login-field-input\">\r\n            <base-input placeholder=\"Mật khẩu\" type=\"password\" :modelValue=\"model.password\"\r\n              @update:modelValue=\"updateValue\" field=\"password\" @enterPress=\"login\"></base-input>\r\n          </div>\r\n        </div>\r\n        <div class=\"login-button\">\r\n          <base-button text=\"ĐĂNG NHẬP\" customClass=\"btn-white btn-padding w-100\" @click=\"login\">\r\n          </base-button>\r\n        </div>\r\n        <div class=\"forgot-password flex flex-end color-red\">\r\n          Quên mật khẩu?\r\n        </div>\r\n      </div>\r\n      <div class=\"login-content-right  w-50 flex flex-center flex-column\">\r\n        <div class=\"logo-container flex-column flex-center\">\r\n\r\n          <a href=\"/\">\r\n            <div class=\"logo\">\r\n\r\n            </div>\r\n          </a>\r\n          <div class=\"welcome-text\">\r\n            Chào mừng bạn đến mới Tân Thời Shop\r\n          </div>\r\n        </div>\r\n        <div class=\"ask\">\r\n          Bạn chưa có tài khoản ?\r\n        </div>\r\n        <div class=\"signup-button\">\r\n          <base-button text=\"ĐĂNG KÝ\" customClass=\"btn-red btn-padding\" @click=\"goToSignup\">\r\n          </base-button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <snack-bar></snack-bar>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport BaseButton from '@/components/button/BaseButton.vue';\r\nimport BaseInput from '@/components/input/BaseInput.vue';\r\nimport { ref, getCurrentInstance, onMounted } from 'vue';\r\nimport AccountAPI from '@/apis/components/accountAPI';\r\nimport jwt_decode from \"jwt-decode\";\r\nimport SnackBar from '@/components/snackbar/SnackBar.vue';\r\n\r\nexport default {\r\n  name: 'LoginPage',\r\n  components: {\r\n    BaseButton,\r\n    BaseInput,\r\n    SnackBar\r\n  },\r\n  setup(props, { emit }) {\r\n    const { proxy } = getCurrentInstance();\r\n    const model = ref({});\r\n    const updateValue = (value, field) => {\r\n      model.value[field] = value;\r\n    }\r\n    onMounted(() => {\r\n      if (proxy.$store.state.token) {\r\n        proxy.$router.push('/');\r\n      }\r\n    });\r\n\r\n    const goToSignup = () => {\r\n      proxy.$router.push(\"/signup\");\r\n    }\r\n    const login = async () => {\r\n      if (proxy.model) {\r\n        try {\r\n          let res = await AccountAPI.signIn(proxy.model);\r\n          if (res && res.data && res.data.data) {\r\n            const userInfo = jwt_decode(res.data.data.token);\r\n            if (userInfo && typeof userInfo === 'object') {\r\n              let payload = {\r\n                userId: userInfo.userId,\r\n                avatar: userInfo.avatar,\r\n                fullName: userInfo.fullName,\r\n                email: userInfo.email,\r\n              };\r\n              proxy.$store.dispatch(\"deleteAccount\", payload);\r\n              proxy.$store.dispatch(\"updateAccount\", payload);\r\n              proxy.$store.dispatch(\"updateToken\", {\r\n                token: res.data.data?.token,\r\n                refreshToken: res.data.data?.refreshToken\r\n              });\r\n              proxy.$router.push('homepage');\r\n            }\r\n          } \r\n        } catch (e) {\r\n          if(e && e.response.status){\r\n            switch(e.response.status){\r\n              case 404:\r\n                proxy.$store.dispatch('changeSnackBar',{\r\n                  isDisplay: true,\r\n                  message: 'Mật khẩu không chính xác',\r\n                  timeOut: 3000\r\n                })\r\n                break;\r\n            }\r\n          }\r\n        }\r\n\r\n      }\r\n    }\r\n    return {\r\n      model,\r\n      updateValue,\r\n      goToSignup,\r\n      login\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import './LoginPage.scss';\r\n</style>","/**\n * The code was extracted from:\n * https://github.com/davidchambers/Base64.js\n */\n\nvar chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n\nfunction InvalidCharacterError(message) {\n    this.message = message;\n}\n\nInvalidCharacterError.prototype = new Error();\nInvalidCharacterError.prototype.name = \"InvalidCharacterError\";\n\nfunction polyfill(input) {\n    var str = String(input).replace(/=+$/, \"\");\n    if (str.length % 4 == 1) {\n        throw new InvalidCharacterError(\n            \"'atob' failed: The string to be decoded is not correctly encoded.\"\n        );\n    }\n    for (\n        // initialize result and counters\n        var bc = 0, bs, buffer, idx = 0, output = \"\";\n        // get next character\n        (buffer = str.charAt(idx++));\n        // character found in table? initialize bit storage and add its ascii value;\n        ~buffer &&\n        ((bs = bc % 4 ? bs * 64 + buffer : buffer),\n            // and if not first of each 4 characters,\n            // convert the first 8 bits to one ascii character\n            bc++ % 4) ?\n        (output += String.fromCharCode(255 & (bs >> ((-2 * bc) & 6)))) :\n        0\n    ) {\n        // try to find character in table (0-63, not found => -1)\n        buffer = chars.indexOf(buffer);\n    }\n    return output;\n}\n\nexport default (typeof window !== \"undefined\" &&\n    window.atob &&\n    window.atob.bind(window)) ||\npolyfill;","import atob from \"./atob\";\n\nfunction b64DecodeUnicode(str) {\n    return decodeURIComponent(\n        atob(str).replace(/(.)/g, function(m, p) {\n            var code = p.charCodeAt(0).toString(16).toUpperCase();\n            if (code.length < 2) {\n                code = \"0\" + code;\n            }\n            return \"%\" + code;\n        })\n    );\n}\n\nexport default function(str) {\n    var output = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    switch (output.length % 4) {\n        case 0:\n            break;\n        case 2:\n            output += \"==\";\n            break;\n        case 3:\n            output += \"=\";\n            break;\n        default:\n            throw \"Illegal base64url string!\";\n    }\n\n    try {\n        return b64DecodeUnicode(output);\n    } catch (err) {\n        return atob(output);\n    }\n}","\"use strict\";\n\nimport base64_url_decode from \"./base64_url_decode\";\n\nexport function InvalidTokenError(message) {\n    this.message = message;\n}\n\nInvalidTokenError.prototype = new Error();\nInvalidTokenError.prototype.name = \"InvalidTokenError\";\n\nexport default function(token, options) {\n    if (typeof token !== \"string\") {\n        throw new InvalidTokenError(\"Invalid token specified\");\n    }\n\n    options = options || {};\n    var pos = options.header === true ? 0 : 1;\n    try {\n        return JSON.parse(base64_url_decode(token.split(\".\")[pos]));\n    } catch (e) {\n        throw new InvalidTokenError(\"Invalid token specified: \" + e.message);\n    }\n}","<template>\r\n  <v-snackbar\r\n      v-model=\"snackbar.isDisplay\"\r\n      :timeout=\"snackbar.timeOut\"\r\n    >\r\n      {{ snackbar.message || 'Đây là thông báo' }}\r\n\r\n      <template v-slot:actions>\r\n        <v-btn\r\n          color=\"pink\"\r\n          variant=\"text\"\r\n          @click=\"closeSnackbar\"\r\n        >\r\n          Close\r\n        </v-btn>\r\n\r\n      </template>\r\n    </v-snackbar>\r\n</template>\r\n\r\n<script>\r\nimport {ref,getCurrentInstance,computed} from 'vue';\r\nexport default {\r\n    setup(props,{emit}){\r\n        const {proxy} = getCurrentInstance();\r\n\r\n        const snackbar = computed(() => {\r\n            return proxy.$store.state.snackBar;\r\n        });\r\n\r\n        const closeSnackbar = () =>{\r\n            let currentSnackbar = proxy.$store.state.snackBar;\r\n            currentSnackbar.isDisplay = false;\r\n            proxy.$store.dispatch('changeSnackBar',currentSnackbar);\r\n        }\r\n\r\n        return{\r\n            snackbar,\r\n            closeSnackbar\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import { render } from \"./SnackBar.vue?vue&type=template&id=69a6339e\"\nimport script from \"./SnackBar.vue?vue&type=script&lang=js\"\nexport * from \"./SnackBar.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"E:\\\\ProjectGR\\\\FrontEnd\\\\ecommercev2\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./LoginPage.vue?vue&type=template&id=5a5a066a\"\nimport script from \"./LoginPage.vue?vue&type=script&lang=js\"\nexport * from \"./LoginPage.vue?vue&type=script&lang=js\"\n\nimport \"./LoginPage.vue?vue&type=style&index=0&id=5a5a066a&lang=scss\"\n\nimport exportComponent from \"E:\\\\ProjectGR\\\\FrontEnd\\\\ecommercev2\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["AccountAPI","BaseAPI","constructor","super","this","BaseAPIConfig","controller","signup","payload","post","completeProfile","signIn","class","_createElementVNode","_createElementBlock","_hoisted_4","_hoisted_6","_createVNode","_component_base_input","placeholder","modelValue","$setup","account","field","onEnterPress","_hoisted_9","type","password","_component_base_button","text","customClass","onClick","_hoisted_12","_hoisted_14","_component_snack_bar","InvalidCharacterError","message","prototype","Error","name","window","atob","bind","input","str","String","replace","length","bs","buffer","bc","idx","output","charAt","fromCharCode","indexOf","decodeURIComponent","m","p","code","charCodeAt","toString","toUpperCase","b64DecodeUnicode","err","InvalidTokenError","token","options","pos","header","JSON","parse","base64_url_decode","split","e","_createBlock","_component_v_snackbar","isDisplay","$event","timeout","timeOut","actions","_component_v_btn","color","variant","setup","props","emit","proxy","getCurrentInstance","snackbar","computed","$store","state","snackBar","closeSnackbar","currentSnackbar","dispatch","__exports__","components","BaseButton","BaseInput","SnackBar","model","ref","updateValue","value","onMounted","$router","push","goToSignup","login","async","res","data","userInfo","jwt_decode","userId","avatar","fullName","email","refreshToken","response","status","render"],"sourceRoot":""}